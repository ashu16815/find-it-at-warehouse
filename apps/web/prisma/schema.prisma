generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model RedirectEvent {
  id         String   @id @default(cuid())
  ts         DateTime @default(now())
  queryId    String?
  queryText  String?
  targetUrl  String
  domain     String
  merchant   String
  label      String   // 'TWG' | 'External'
  userAgent  String?
  referrer   String?
}

model QueryLog {
  id         String   @id @default(cuid())
  ts         DateTime @default(now())
  queryText  String
  resultsTWG Int
  resultsExt Int
}
